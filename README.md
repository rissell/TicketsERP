# TicketsERP

Create tickes linked to Oddo ERP and to a fixed assets on a company or organization.

TicketsERP will be deployed as a Add-On or module of the selected open source ERP. Our priority is to have the web application running, and mobile app is a nice to have item.

## Odoo Setup
In order to install Odoo in Windows, it is possible to follow different alternatives. One of the easiest ways to install Odoo is via Packaged Installers. The Windows Installer is available in the [Download](https://www.odoo.com/page/download) page. In order to get access to the .exe file, you just need to fill a form. This form just asks for the company name, your name, a phone number, mail, and primary interest. Once the .exe file is downloaded, just follow the simple steps to finish the installation. During the installation, you’ll be able to configure the information for the PosgreSQL connection. You can change the hostname, port, username, and password. At the end of the installation, you’ll be able to login with the hostname and the port (i. e. localhost:8888/). WARNING: the port must be available in order to get a successful connection to Odoo.

## Add new products and change their category
After installing Odoo, open it and go to the “Apps” tab in the navbar and download the Inventory Management module. Once the Inventory is installed, click the “Inventory” tab. There is an option in the Inventory’s dashboard called “Products”. Click it and add or edit the products that are going to be able to have a ticket. While editing or creating a new product, fill the necessary fills. It is important to change the “Category” fill to “Ticketeable”. This tag is necessary in order to create a new ticket in the future.

## The Back-end
The back end is developed in python 2.7.15 with some libraries required to parse the url, setup a web server framework, and use mysql connections. As default the port number for the API is 8080. This backend API is used to communicate with the web client, ODOO and the tickets database. There are methods in order to get the tickets generated by a user, create tickets, show tickets and more. So far, there are CRUD operations for the tickets. This API is called from different endpoints such as `/tickets`or `/inventory` or parametrized URL such as `/tickets?id=TKT00001`. The API sends a response in JSON format with its necessary headers. Here is an example of the request from `/tickets`: 

```json
    [ 
        "AX123456",
        "TKT00003",
        "Hello, idk what happened here.",
        "4204",
        0,
        ""
    ],
    [
        "AX123456",
        "TKT00128",
        "Hello, idk what happened here.",
        "4204",
        0,
        ""
    ]
```

## To use this service 
-Download the Docker image from this repository

-Build the Image

-Build and tag the image using the Dockerfile in this directory.

-docker build -t TicketsERP .

-Configure the credentials of your ODDO instance (IP, user, password)

## Requirements
-Web Server to Run Vue.JS

-SQL Server database

-Instance of ODDO 11+

-Python 2.7+

## The Database
We use a SQL database to save the information of the tickets and users, on the docker image it includes the sql script to create the database schema and tables.
